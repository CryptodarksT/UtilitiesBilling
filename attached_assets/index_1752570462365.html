<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unified Payment System - H·ªá Th·ªëng Thanh To√°n T√≠ch H·ª£p</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .payment-card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .payment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .payment-logo {
            width: 80px;
            height: 80px;
            object-fit: contain;
            border-radius: 10px;
        }
        .status-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        .status-ready {
            background: #28a745;
            color: white;
        }
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 0;
        }
        .feature-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            margin: 0 auto 20px;
        }
        
        /* Bill Query Styles */
        .bill-type-card {
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .bill-type-card:hover {
            border-color: #007bff;
            transform: translateY(-3px);
        }
        .bill-type-card.selected {
            border-color: #007bff;
            background-color: #f8f9ff;
        }
        
        /* Credit Card Styles */
        .credit-card {
            width: 300px;
            height: 180px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            border-radius: 15px;
            padding: 20px;
            color: white;
            position: relative;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        .card-front {
            position: relative;
            height: 100%;
        }
        .card-logo {
            position: absolute;
            top: 0;
            right: 0;
        }
        .card-number {
            position: absolute;
            top: 50%;
            left: 0;
            font-size: 18px;
            font-family: 'Courier New', monospace;
            letter-spacing: 2px;
        }
        .card-holder {
            position: absolute;
            bottom: 30px;
            left: 0;
            font-size: 12px;
            font-weight: bold;
        }
        .card-expiry {
            position: absolute;
            bottom: 30px;
            right: 0;
            font-size: 12px;
            font-family: 'Courier New', monospace;
        }
        
        /* Animations */
        .loading {
            position: relative;
        }
        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            transform: translate(-50%, -50%);
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h1 class="display-4 fw-bold mb-4">Unified Payment System</h1>
                    <p class="lead mb-4">H·ªá th·ªëng thanh to√°n t√≠ch h·ª£p ƒëa n·ªÅn t·∫£ng v·ªõi Payoo, MoMo v√† ZaloPay Crypto Utilities</p>
                    <div class="d-flex gap-3">
                        <span class="badge bg-success fs-6"><i class="fas fa-check-circle me-2"></i>Production Ready</span>
                        <span class="badge bg-info fs-6"><i class="fas fa-shield-alt me-2"></i>PCI DSS Compliant</span>
                        <span class="badge bg-warning fs-6"><i class="fas fa-mobile-alt me-2"></i>Mobile Responsive</span>
                    </div>
                </div>
                <div class="col-lg-4 text-center">
                    <div class="bg-white bg-opacity-10 rounded-3 p-4">
                        <i class="fas fa-credit-card fa-4x mb-3"></i>
                        <h4>Multi-Gateway</h4>
                        <p>3 Payment Systems Integrated</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bill Query & Payment Section -->
    <div class="container-fluid bg-light py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <h2 class="text-center mb-5">üè¢ Truy V·∫•n & Thanh To√°n H√≥a ƒê∆°n</h2>
                    
                    <!-- Bill Type Selection -->
                    <div class="row g-4 mb-5">
                        <div class="col-md-4">
                            <div class="card text-center h-100 bill-type-card" data-bill-type="electric">
                                <div class="card-body">
                                    <i class="fas fa-bolt fa-3x text-warning mb-3"></i>
                                    <h5>Ti·ªÅn ƒêi·ªán</h5>
                                    <p class="text-muted">EVN, PC H√† N·ªôi, PC TP.HCM</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card text-center h-100 bill-type-card" data-bill-type="water">
                                <div class="card-body">
                                    <i class="fas fa-tint fa-3x text-primary mb-3"></i>
                                    <h5>Ti·ªÅn N∆∞·ªõc</h5>
                                    <p class="text-muted">Sawaco, HaWaCo, WaterCo</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card text-center h-100 bill-type-card" data-bill-type="telecom">
                                <div class="card-body">
                                    <i class="fas fa-phone fa-3x text-success mb-3"></i>
                                    <h5>Vi·ªÖn Th√¥ng</h5>
                                    <p class="text-muted">Viettel, VNPT, FPT</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bill Query Form -->
                    <div class="card shadow-lg">
                        <div class="card-header bg-primary text-white">
                            <h4 class="mb-0"><i class="fas fa-search me-2"></i>Tra C·ª©u H√≥a ƒê∆°n</h4>
                        </div>
                        <div class="card-body p-4">
                            <form id="billQueryForm">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Lo·∫°i H√≥a ƒê∆°n *</label>
                                            <select class="form-select" id="billType" required>
                                                <option value="">Ch·ªçn lo·∫°i h√≥a ƒë∆°n</option>
                                                <option value="electric">‚ö° Ti·ªÅn ƒêi·ªán</option>
                                                <option value="water">üíß Ti·ªÅn N∆∞·ªõc</option>
                                                <option value="telecom">üìû Vi·ªÖn Th√¥ng</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Nh√† Cung C·∫•p *</label>
                                            <select class="form-select" id="provider" required>
                                                <option value="">Ch·ªçn nh√† cung c·∫•p</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">M√£ Kh√°ch H√†ng *</label>
                                            <input type="text" class="form-control" id="customerCode" 
                                                   placeholder="Nh·∫≠p m√£ kh√°ch h√†ng" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">S·ªë ƒêi·ªán Tho·∫°i</label>
                                            <input type="tel" class="form-control" id="phoneNumber" 
                                                   placeholder="S·ªë ƒëi·ªán tho·∫°i li√™n h·ªá">
                                        </div>
                                    </div>
                                </div>
                                <div class="text-center">
                                    <button type="submit" class="btn btn-primary btn-lg px-5">
                                        <i class="fas fa-search me-2"></i>Tra C·ª©u H√≥a ƒê∆°n
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Bill Results -->
                    <div id="billResults" class="mt-4" style="display: none;">
                        <div class="card shadow">
                            <div class="card-header bg-success text-white">
                                <h5 class="mb-0"><i class="fas fa-file-invoice-dollar me-2"></i>Th√¥ng Tin H√≥a ƒê∆°n</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-8">
                                        <table class="table table-borderless">
                                            <tr>
                                                <td><strong>M√£ Kh√°ch H√†ng:</strong></td>
                                                <td id="resultCustomerCode">-</td>
                                            </tr>
                                            <tr>
                                                <td><strong>T√™n Kh√°ch H√†ng:</strong></td>
                                                <td id="resultCustomerName">-</td>
                                            </tr>
                                            <tr>
                                                <td><strong>ƒê·ªãa Ch·ªâ:</strong></td>
                                                <td id="resultAddress">-</td>
                                            </tr>
                                            <tr>
                                                <td><strong>K·ª≥ H√≥a ƒê∆°n:</strong></td>
                                                <td id="resultPeriod">-</td>
                                            </tr>
                                            <tr>
                                                <td><strong>H·∫°n Thanh To√°n:</strong></td>
                                                <td id="resultDueDate" class="text-danger">-</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div class="col-md-4 text-center">
                                        <div class="bg-light p-3 rounded">
                                            <h6>S·ªë Ti·ªÅn Ph·∫£i Tr·∫£</h6>
                                            <h2 class="text-danger" id="resultAmount">0 VNƒê</h2>
                                            <small class="text-muted">ƒê√£ bao g·ªìm VAT</small>
                                        </div>
                                        <button class="btn btn-success btn-lg mt-3 w-100" onclick="showPaymentForm()">
                                            <i class="fas fa-credit-card me-2"></i>Thanh To√°n Ngay
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Visa Payment Form -->
                    <div id="paymentSection" class="mt-4" style="display: none;">
                        <div class="card shadow-lg">
                            <div class="card-header bg-danger text-white">
                                <h5 class="mb-0"><i class="fas fa-credit-card me-2"></i>Thanh To√°n B·∫±ng Th·∫ª Visa</h5>
                            </div>
                            <div class="card-body p-4">
                                <!-- Card Visual -->
                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <div class="credit-card">
                                            <div class="card-front">
                                                <div class="card-logo">
                                                    <img src="assets/images/visa.png" alt="Visa" width="60">
                                                </div>
                                                <div class="card-number" id="cardDisplay">
                                                    **** **** **** ****
                                                </div>
                                                <div class="card-holder" id="cardHolderDisplay">
                                                    CARD HOLDER
                                                </div>
                                                <div class="card-expiry" id="cardExpiryDisplay">
                                                    MM/YY
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="payment-summary bg-light p-3 rounded">
                                            <h6>Chi Ti·∫øt Thanh To√°n</h6>
                                            <div class="d-flex justify-content-between">
                                                <span>S·ªë ti·ªÅn h√≥a ƒë∆°n:</span>
                                                <span id="paymentAmount">0 VNƒê</span>
                                            </div>
                                            <div class="d-flex justify-content-between">
                                                <span>Ph√≠ giao d·ªãch:</span>
                                                <span>2,000 VNƒê</span>
                                            </div>
                                            <hr>
                                            <div class="d-flex justify-content-between fw-bold">
                                                <span>T·ªïng c·∫ßn thanh to√°n:</span>
                                                <span class="text-danger" id="totalAmount">0 VNƒê</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Payment Form -->
                                <form id="paymentForm">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label class="form-label">S·ªë Th·∫ª *</label>
                                                <input type="text" class="form-control" id="cardNumber" 
                                                       placeholder="1234 5678 9012 3456" maxlength="19" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label class="form-label">T√™n Ch·ªß Th·∫ª *</label>
                                                <input type="text" class="form-control" id="cardHolder" 
                                                       placeholder="NGUYEN VAN A" style="text-transform: uppercase" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="mb-3">
                                                <label class="form-label">Th√°ng *</label>
                                                <select class="form-select" id="expMonth" required>
                                                    <option value="">MM</option>
                                                    <option value="01">01</option>
                                                    <option value="02">02</option>
                                                    <option value="03">03</option>
                                                    <option value="04">04</option>
                                                    <option value="05">05</option>
                                                    <option value="06">06</option>
                                                    <option value="07">07</option>
                                                    <option value="08">08</option>
                                                    <option value="09">09</option>
                                                    <option value="10">10</option>
                                                    <option value="11">11</option>
                                                    <option value="12">12</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="mb-3">
                                                <label class="form-label">NƒÉm *</label>
                                                <select class="form-select" id="expYear" required>
                                                    <option value="">YY</option>
                                                    <option value="25">2025</option>
                                                    <option value="26">2026</option>
                                                    <option value="27">2027</option>
                                                    <option value="28">2028</option>
                                                    <option value="29">2029</option>
                                                    <option value="30">2030</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="mb-3">
                                                <label class="form-label">CVV *</label>
                                                <input type="password" class="form-control" id="cvv" 
                                                       placeholder="123" maxlength="3" required>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="mb-3">
                                                <label class="form-label">OTP</label>
                                                <input type="text" class="form-control" id="otp" 
                                                       placeholder="123456" maxlength="6">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="saveCard">
                                            <label class="form-check-label" for="saveCard">
                                                L∆∞u th√¥ng tin th·∫ª cho l·∫ßn thanh to√°n sau
                                            </label>
                                        </div>
                                    </div>

                                    <div class="text-center">
                                        <button type="button" class="btn btn-secondary me-3" onclick="hidePaymentForm()">
                                            H·ªßy
                                        </button>
                                        <button type="submit" class="btn btn-danger btn-lg px-5">
                                            <i class="fas fa-lock me-2"></i>X√°c Nh·∫≠n Thanh To√°n
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container my-5">
        <!-- Quick Access -->
        <section class="mb-5">
            <h2 class="text-center mb-5">üöÄ Truy C·∫≠p Nhanh</h2>
            <div class="row g-4">
                <!-- MoMo Gateway -->
                <div class="col-lg-4">
                    <div class="card payment-card h-100 position-relative">
                        <span class="status-badge status-ready">‚úì READY</span>
                        <div class="card-body text-center p-4">
                            <img src="assets/images/MoMo_Logo.png" alt="MoMo" class="payment-logo mb-3"
                                 onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTAiIGZpbGw9IiNBRTJENjgiLz4KPHRleHQgeD0iNDAiIHk9IjQ1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIyNCIgZm9udC13ZWlnaHQ9ImJvbGQiPk1vTW88L3RleHQ+Cjwvc3ZnPg=='" />
                            <h4 class="card-title">MoMo Gateway</h4>
                            <p class="card-text text-muted">C·ªïng thanh to√°n MoMo chuy√™n nghi·ªáp</p>
                            <div class="mt-auto">
                                <a href="frontend/momo/index.html" class="btn btn-primary w-100">
                                    <i class="fas fa-external-link-alt me-2"></i>M·ªü MoMo Gateway
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payoo System -->
                <div class="col-lg-4">
                    <div class="card payment-card h-100 position-relative">
                        <span class="status-badge status-ready">‚úì READY</span>
                        <div class="card-body text-center p-4">
                            <img src="assets/images/payoo-logo.png" alt="Payoo" class="payment-logo mb-3"
                                 onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTAiIGZpbGw9IiNGRjY2MDAiLz4KPHRleHQgeD0iNDAiIHk9IjQ1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIxOCIgZm9udC13ZWlnaHQ9ImJvbGQiPlBheW9vPC90ZXh0Pgo8L3N2Zz4='" />
                            <h4 class="card-title">Payoo Bill Payment</h4>
                            <p class="card-text text-muted">H·ªá th·ªëng thanh to√°n h√≥a ƒë∆°n online h√†ng ƒë·∫ßu Vi·ªát Nam</p>
                            <ul class="list-unstyled text-start">
                                <li><i class="fas fa-check text-success me-2"></i>70+ Ng√¢n h√†ng t√≠ch h·ª£p</li>
                                <li><i class="fas fa-check text-success me-2"></i>Thanh to√°n ƒëi·ªán, n∆∞·ªõc, internet</li>
                                <li><i class="fas fa-check text-success me-2"></i>Legacy system ·ªïn ƒë·ªãnh</li>
                                <li><i class="fas fa-check text-success me-2"></i>Multi-channel support</li>
                            </ul>
                            <div class="mt-auto">
                                <a href="frontend/payoo/index.html" class="btn btn-warning w-100">
                                    <i class="fas fa-external-link-alt me-2"></i>Launch Payoo System
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Crypto Utilities -->
                <div class="col-lg-4">
                    <div class="card payment-card h-100 position-relative">
                        <span class="status-badge status-ready">‚úì READY</span>
                        <div class="card-body text-center p-4">
                            <div class="payment-logo mb-3 bg-dark text-white d-flex align-items-center justify-content-center">
                                <i class="fas fa-shield-alt fa-2x"></i>
                            </div>
                            <h4 class="card-title">Crypto Utilities</h4>
                            <p class="card-text text-muted">Th∆∞ vi·ªán m√£ h√≥a b·∫£o m·∫≠t t·ª´ ZaloPay</p>
                            <ul class="list-unstyled text-start">
                                <li><i class="fas fa-check text-success me-2"></i>HMAC MD5/SHA1/SHA256/SHA512</li>
                                <li><i class="fas fa-check text-success me-2"></i>RSA Public/Private Key</li>
                                <li><i class="fas fa-check text-success me-2"></i>Hex String Conversion</li>
                                <li><i class="fas fa-check text-success me-2"></i>Base64 Operations</li>
                            </ul>
                            <div class="mt-auto">
                                <button class="btn btn-dark w-100" onclick="showCryptoDemo()">
                                    <i class="fas fa-code me-2"></i>View Crypto Demo
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="mb-5">
            <h2 class="text-center mb-5">Key Features</h2>
            <div class="row g-4">
                <div class="col-md-4 text-center">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h5>Bank-Grade Security</h5>
                    <p class="text-muted">PCI DSS compliant v·ªõi HMAC, RSA encryption v√† 3D Secure authentication</p>
                </div>
                <div class="col-md-4 text-center">
                    <div class="feature-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h5>Mobile Responsive</h5>
                    <p class="text-muted">T·ªëi ∆∞u cho m·ªçi thi·∫øt b·ªã t·ª´ desktop ƒë·∫øn mobile v·ªõi UI/UX hi·ªán ƒë·∫°i</p>
                </div>
                <div class="col-md-4 text-center">
                    <div class="feature-icon">
                        <i class="fas fa-plug"></i>
                    </div>
                    <h5>Easy Integration</h5>
                    <p class="text-muted">API ƒë∆°n gi·∫£n, documentation ƒë·∫ßy ƒë·ªß v√† support ƒëa ng√¥n ng·ªØ</p>
                </div>
            </div>
        </section>

        <!-- Bank Partners -->
        <section class="mb-5">
            <h2 class="text-center mb-4">ƒê·ªëi T√°c Ng√¢n H√†ng</h2>
            <p class="text-center text-muted mb-4">T√≠ch h·ª£p v·ªõi 70+ ng√¢n h√†ng v√† t·ªï ch·ª©c t√†i ch√≠nh h√†ng ƒë·∫ßu Vi·ªát Nam</p>
            <div class="row g-3" id="bankLogos">
                <!-- Bank logos will be loaded here -->
            </div>
        </section>

        <!-- Technical Specs -->
        <section class="mb-5">
            <div class="row">
                <div class="col-lg-6">
                    <h3>Technical Specifications</h3>
                    <table class="table table-striped">
                        <tr><td><strong>Frontend</strong></td><td>HTML5, CSS3, JavaScript ES6</td></tr>
                        <tr><td><strong>Frameworks</strong></td><td>Bootstrap 4.5.3, jQuery 3.5.1</td></tr>
                        <tr><td><strong>Backend</strong></td><td>Java 8+, Crypto Utilities</td></tr>
                        <tr><td><strong>Security</strong></td><td>HMAC, RSA, 3D Secure, HTTPS</td></tr>
                        <tr><td><strong>Browser Support</strong></td><td>Chrome 70+, Firefox 65+, Safari 12+</td></tr>
                    </table>
                </div>
                <div class="col-lg-6">
                    <h3>Payment Methods</h3>
                    <div class="row g-2">
                        <div class="col-6"><span class="badge bg-primary w-100">Visa</span></div>
                        <div class="col-6"><span class="badge bg-warning w-100">Mastercard</span></div>
                        <div class="col-6"><span class="badge bg-info w-100">JCB</span></div>
                        <div class="col-6"><span class="badge bg-success w-100">Domestic Cards</span></div>
                        <div class="col-6"><span class="badge bg-danger w-100">Internet Banking</span></div>
                        <div class="col-6"><span class="badge bg-dark w-100">E-Wallet</span></div>
                    </div>
                    <div class="mt-4">
                        <h5>Supported Banks</h5>
                        <p class="small text-muted">Vietcombank, BIDV, Vietinbank, Agribank, Techcombank, ACB, VPBank, Sacombank, v√† 60+ ng√¢n h√†ng kh√°c</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Crypto Demo Modal -->
    <div class="modal fade" id="cryptoModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Crypto Utilities Demo</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h6>HMAC SHA256 Example:</h6>
                    <pre class="bg-light p-3 rounded"><code>import vn.zalopay.crypto.HMACUtil;

String data = "amount=100000&orderid=123456";
String secretKey = "your-secret-key";
String signature = HMACUtil.HMacSHA256(secretKey, data);
System.out.println("HMAC Signature: " + signature);</code></pre>

                    <h6 class="mt-4">RSA Encryption Example:</h6>
                    <pre class="bg-light p-3 rounded"><code>import vn.zalopay.crypto.RSAUtil;

String publicKeyStr = "MIIBIjANBgkqhkiG9w0BAQEF...";
PublicKey publicKey = RSAUtil.stringToPublicKey(publicKeyStr);

// Use public key for encryption
// Private key for decryption</code></pre>

                    <h6 class="mt-4">Available Methods:</h6>
                    <ul>
                        <li><code>HMACUtil.HMacMD5(key, data)</code></li>
                        <li><code>HMACUtil.HMacSHA1(key, data)</code></li>
                        <li><code>HMACUtil.HMacSHA256(key, data)</code></li>
                        <li><code>HMACUtil.HMacSHA512(key, data)</code></li>
                        <li><code>RSAUtil.stringToPublicKey(keyStr)</code></li>
                        <li><code>RSAUtil.stringToPrivateKey(keyStr)</code></li>
                        <li><code>HexStringUtil.*</code> (Various hex utilities)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- API Integration Layer -->
    <script src="api-integration.js"></script>
    <!-- BIDV API Integration -->
    <script src="bidv-api-integration.js"></script>
    <script>
        // Enhanced Bill Providers Data with real API integration
        const billProviders = {
            electric: [
                {value: 'evn', name: '‚ö° EVN - T·∫≠p ƒëo√†n ƒêi·ªán l·ª±c Vi·ªát Nam'},
                {value: 'evnhanoi', name: '‚ö° EVN H√† N·ªôi'},
                {value: 'evnhcm', name: '‚ö° EVN TP.HCM'},
                {value: 'evnsouthern', name: '‚ö° EVN Mi·ªÅn Nam'},
                {value: 'evnnorthern', name: '‚ö° EVN Mi·ªÅn B·∫Øc'}
            ],
            water: [
                {value: 'sawaco', name: 'üíß SAWACO - C√¥ng ty C·∫•p n∆∞·ªõc S√†i G√≤n'},
                {value: 'hawaco', name: 'üíß HAWACO - C√¥ng ty C·∫•p n∆∞·ªõc H√† N·ªôi'},
                {value: 'dwaco', name: 'üíß DWACO - C√¥ng ty C·∫•p n∆∞·ªõc ƒê√† N·∫µng'},
                {value: 'capnuocdn', name: 'üíß C·∫•p n∆∞·ªõc C·∫ßn Th∆°'},
                {value: 'capnuochp', name: 'üíß C·∫•p n∆∞·ªõc H·∫£i Ph√≤ng'}
            ],
            telecom: [
                {value: 'viettel', name: 'üìû Viettel'},
                {value: 'vnpt', name: 'üìû VNPT'},
                {value: 'fpt', name: 'üìû FPT Telecom'},
                {value: 'mobifone', name: 'üìû MobiFone'},
                {value: 'vinaphone', name: 'üìû VinaPhone'}
            ]
        };

        // Mock bill data for demo
        const mockBillData = {
            customerCode: '',
            customerName: 'NGUY·ªÑN VƒÇN A',
            address: '123 ƒê∆∞·ªùng ABC, Ph∆∞·ªùng XYZ, Qu·∫≠n 1, TP.HCM',
            period: 'Th√°ng 07/2025',
            dueDate: '2025-08-15',
            amount: 250000,
            billType: ''
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
        });

        function initializeEventListeners() {
            // Bill type selection
            document.querySelectorAll('.bill-type-card').forEach(card => {
                card.addEventListener('click', function() {
                    selectBillType(this.dataset.billType);
                });
            });

            // Bill type dropdown change
            document.getElementById('billType').addEventListener('change', function() {
                updateProviders(this.value);
            });

            // Bill query form
            document.getElementById('billQueryForm').addEventListener('submit', function(e) {
                e.preventDefault();
                queryBill();
            });

            // Payment form
            document.getElementById('paymentForm').addEventListener('submit', function(e) {
                e.preventDefault();
                processPayment();
            });

            // Card input formatting
            setupCardFormatting();
        }

        function selectBillType(type) {
            // Update visual selection
            document.querySelectorAll('.bill-type-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelector(`[data-bill-type="${type}"]`).classList.add('selected');
            
            // Update dropdown
            document.getElementById('billType').value = type;
            updateProviders(type);
        }

        function updateProviders(billType) {
            const providerSelect = document.getElementById('provider');
            providerSelect.innerHTML = '<option value="">Ch·ªçn nh√† cung c·∫•p</option>';
            
            if (billProviders[billType]) {
                billProviders[billType].forEach(provider => {
                    const option = document.createElement('option');
                    option.value = provider.value;
                    option.textContent = provider.name;
                    providerSelect.appendChild(option);
                });
            }
        }

        // Enhanced bill query with real API integration
        async function queryBill() {
            const form = document.getElementById('billQueryForm');
            const formData = new FormData(form);
            
            const billType = formData.get('billType');
            const provider = formData.get('provider');
            const customerCode = formData.get('customerCode');
            
            if (!billType || !provider || !customerCode) {
                alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin');
                return;
            }
            
            // Show loading
            const submitBtn = form.querySelector('button[type="submit"]');
            submitBtn.classList.add('loading');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>ƒêang tra c·ª©u...';
            
            try {
                // Log query attempt
                transactionLogger.log('BILL_QUERY_START', {
                    billType, provider, customerCode
                });
                
                // Use real API integration
                const result = await paymentAPI.queryBill(billType, provider, customerCode);
                
                if (result.success) {
                    // Display real bill results
                    displayBillResults(result.data);
                    
                    // Update global bill data
                    window.currentBillData = result.data;
                    
                    // Show results section
                    document.getElementById('billResults').style.display = 'block';
                    document.getElementById('billResults').scrollIntoView({behavior: 'smooth'});
                    
                    // Log successful query
                    transactionLogger.log('BILL_QUERY_SUCCESS', result.data);
                    
                    showToast('success', 'Tra c·ª©u h√≥a ƒë∆°n th√†nh c√¥ng!');
                } else {
                    // Log failed query
                    transactionLogger.log('BILL_QUERY_FAILED', {
                        error: result.error, billType, provider, customerCode
                    });
                    
                    showToast('error', 'L·ªói tra c·ª©u: ' + result.error);
                }
                
            } catch (error) {
                console.error('Query bill error:', error);
                transactionLogger.log('BILL_QUERY_ERROR', {
                    error: error.message, billType, provider, customerCode
                });
                showToast('error', 'L·ªói h·ªá th·ªëng. Vui l√≤ng th·ª≠ l·∫°i sau.');
            } finally {
                // Remove loading
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-search me-2"></i>Tra C·ª©u H√≥a ƒê∆°n';
            }
        }

        // Enhanced payment processing with real API
        async function processPayment() {
            const form = document.getElementById('paymentForm');
            const formData = new FormData(form);
            const submitBtn = form.querySelector('button[type="submit"]');
            
            // Validate form data
            const cardNumber = formData.get('cardNumber')?.replace(/\s/g, '');
            const cardHolder = formData.get('cardHolder');
            const expMonth = formData.get('expMonth');
            const expYear = formData.get('expYear');
            const cvv = formData.get('cvv');
            
            if (!cardNumber || !cardHolder || !expMonth || !expYear || !cvv) {
                showToast('error', 'Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin th·∫ª');
                return;
            }
            
            if (!cardNumber.startsWith('4') || cardNumber.length < 16) {
                showToast('error', 'Vui l√≤ng nh·∫≠p s·ªë th·∫ª Visa h·ª£p l·ªá (b·∫Øt ƒë·∫ßu b·∫±ng s·ªë 4)');
                return;
            }
            
            // Show loading
            submitBtn.classList.add('loading');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>ƒêang x·ª≠ l√Ω thanh to√°n...';
            
            try {
                // Prepare payment data
                const paymentData = {
                    billData: window.currentBillData,
                    cardNumber: cardNumber,
                    cardHolder: cardHolder,
                    expMonth: expMonth,
                    expYear: expYear,
                    cvv: cvv,
                    amount: window.currentBillData.amount,
                    currency: 'VND'
                };
                
                // Log payment attempt
                transactionLogger.log('PAYMENT_START', {
                    amount: paymentData.amount,
                    cardNumber: cardNumber.substring(0, 4) + '****',
                    billType: window.currentBillData.billType
                });
                
                // Process payment with real API
                const result = await paymentAPI.processPayment(paymentData);
                
                if (result.success) {
                    // Log successful payment
                    transactionLogger.log('PAYMENT_SUCCESS', result);
                    
                    // Show success modal
                    showPaymentSuccess(result.transactionId, result);
                    
                    // Reset form
                    form.reset();
                    setupCardFormatting();
                    
                    showToast('success', 'Thanh to√°n th√†nh c√¥ng!');
                } else {
                    // Log failed payment
                    transactionLogger.log('PAYMENT_FAILED', result);
                    
                    showToast('error', 'Thanh to√°n th·∫•t b·∫°i: ' + result.error);
                }
                
            } catch (error) {
                console.error('Payment processing error:', error);
                transactionLogger.log('PAYMENT_ERROR', {
                    error: error.message,
                    amount: paymentData?.amount
                });
                showToast('error', 'L·ªói x·ª≠ l√Ω thanh to√°n. Vui l√≤ng th·ª≠ l·∫°i sau.');
            } finally {
                // Remove loading
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-lock me-2"></i>X√°c Nh·∫≠n Thanh To√°n';
            }
        }

        // Enhanced display bill results with real data
        function displayBillResults(data) {
            document.getElementById('resultCustomerCode').textContent = data.customerCode;
            document.getElementById('resultCustomerName').textContent = data.customerName;
            document.getElementById('resultAddress').textContent = data.address;
            document.getElementById('resultPeriod').textContent = data.period;
            document.getElementById('resultDueDate').textContent = formatDate(data.dueDate);
            document.getElementById('resultAmount').textContent = formatCurrency(data.amount);
            
            // Add provider information
            const providerInfo = document.createElement('tr');
            providerInfo.innerHTML = `
                <td><strong>Nh√† cung c·∫•p:</strong></td>
                <td>${data.provider} (${data.providerCode})</td>
            `;
            document.querySelector('#billResults table').appendChild(providerInfo);
            
            // Add usage information if available
            if (data.usage) {
                const usageInfo = document.createElement('tr');
                usageInfo.innerHTML = `
                    <td><strong>L∆∞·ª£ng ti√™u th·ª•:</strong></td>
                    <td>${data.usage} ${getBillTypeUnit(data.billType)}</td>
                `;
                document.querySelector('#billResults table').appendChild(usageInfo);
            }
        }

        // Enhanced payment success modal with transaction details
        function showPaymentSuccess(transactionId, paymentResult) {
            const modal = `
                <div class="modal fade" id="successModal" tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content">
                            <div class="modal-body text-center p-5">
                                <i class="fas fa-check-circle fa-4x text-success mb-3"></i>
                                <h4 class="text-success">Thanh To√°n Th√†nh C√¥ng!</h4>
                                <p class="mb-3">H√≥a ƒë∆°n c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c thanh to√°n th√†nh c√¥ng</p>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="bg-light p-3 rounded mb-3">
                                            <h6 class="text-muted mb-2">Th√¥ng tin giao d·ªãch</h6>
                                            <table class="table table-sm table-borderless">
                                                <tr>
                                                    <td><strong>M√£ GD:</strong></td>
                                                    <td>${transactionId}</td>
                                                </tr>
                                                <tr>
                                                    <td><strong>S·ªë ti·ªÅn:</strong></td>
                                                    <td>${formatCurrency(paymentResult.amount)}</td>
                                                </tr>
                                                <tr>
                                                    <td><strong>Ph√≠:</strong></td>
                                                    <td>${formatCurrency(paymentResult.fee)}</td>
                                                </tr>
                                                <tr>
                                                    <td><strong>T·ªïng:</strong></td>
                                                    <td><strong>${formatCurrency(paymentResult.total)}</strong></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="bg-light p-3 rounded mb-3">
                                            <h6 class="text-muted mb-2">Chi ti·∫øt</h6>
                                            <table class="table table-sm table-borderless">
                                                <tr>
                                                    <td><strong>Th·ªùi gian:</strong></td>
                                                    <td>${new Date(paymentResult.timestamp).toLocaleString('vi-VN')}</td>
                                                </tr>
                                                <tr>
                                                    <td><strong>Tr·∫°ng th√°i:</strong></td>
                                                    <td><span class="badge bg-success">${paymentResult.status}</span></td>
                                                </tr>
                                                <tr>
                                                    <td><strong>Gateway:</strong></td>
                                                    <td>${paymentResult.gateway}</td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="alert alert-info">
                                    <i class="fas fa-info-circle me-2"></i>
                                    Th√¥ng tin giao d·ªãch ƒë√£ ƒë∆∞·ª£c g·ª≠i ƒë·∫øn s·ªë ƒëi·ªán tho·∫°i v√† email c·ªßa b·∫°n
                                </div>
                                
                                <div class="d-flex gap-2 justify-content-center">
                                    <button class="btn btn-primary" onclick="downloadReceipt('${transactionId}')">
                                        <i class="fas fa-download me-2"></i>T·∫£i h√≥a ƒë∆°n
                                    </button>
                                    <button class="btn btn-secondary" onclick="location.reload()">
                                        Thanh to√°n h√≥a ƒë∆°n kh√°c
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modal);
            new bootstrap.Modal(document.getElementById('successModal')).show();
        }

        // Toast notification system
        function showToast(type, message) {
            const toastContainer = document.getElementById('toastContainer') || createToastContainer();
            
            const toastId = 'toast-' + Date.now();
            const toast = document.createElement('div');
            toast.id = toastId;
            toast.className = `toast align-items-center text-white bg-${type === 'success' ? 'success' : 'danger'} border-0`;
            toast.setAttribute('role', 'alert');
            toast.innerHTML = `
                <div class="d-flex">
                    <div class="toast-body">
                        <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-triangle'} me-2"></i>
                        ${message}
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
                </div>
            `;
            
            toastContainer.appendChild(toast);
            const bsToast = new bootstrap.Toast(toast);
            bsToast.show();
            
            // Auto remove after hide
            toast.addEventListener('hidden.bs.toast', () => {
                toast.remove();
            });
        }

        function createToastContainer() {
            const container = document.createElement('div');
            container.id = 'toastContainer';
            container.className = 'toast-container position-fixed top-0 end-0 p-3';
            container.style.zIndex = '1055';
            document.body.appendChild(container);
            return container;
        }

        // Download receipt function
        function downloadReceipt(transactionId) {
            const receiptData = {
                transactionId: transactionId,
                timestamp: new Date().toISOString(),
                customer: window.currentBillData?.customerName || 'N/A',
                amount: window.currentBillData?.amount || 0
            };
            
            const dataStr = JSON.stringify(receiptData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `receipt-${transactionId}.json`;
            link.click();
            
            showToast('success', 'H√≥a ƒë∆°n ƒë√£ ƒë∆∞·ª£c t·∫£i xu·ªëng');
        }

        // Get unit for bill types
        function getBillTypeUnit(billType) {
            const units = {
                electric: 'kWh',
                water: 'm¬≥',
                telecom: 'ph√∫t'
            };
            return units[billType] || 'ƒë∆°n v·ªã';
        }

        function showPaymentForm() {
            if (!window.currentBillData) {
                showToast('error', 'Vui l√≤ng tra c·ª©u h√≥a ƒë∆°n tr∆∞·ªõc khi thanh to√°n');
                return;
            }
            
            const amount = window.currentBillData.amount;
            const fee = 2000;
            const total = amount + fee;
            
            document.getElementById('paymentAmount').textContent = formatCurrency(amount);
            document.getElementById('totalAmount').textContent = formatCurrency(total);
            
            document.getElementById('paymentSection').style.display = 'block';
            document.getElementById('paymentSection').scrollIntoView({behavior: 'smooth'});
        }

        function hidePaymentForm() {
            document.getElementById('paymentSection').style.display = 'none';
        }

        function setupCardFormatting() {
            const cardNumber = document.getElementById('cardNumber');
            const cardHolder = document.getElementById('cardHolder');
            const expMonth = document.getElementById('expMonth');
            const expYear = document.getElementById('expYear');

            // Format card number
            cardNumber.addEventListener('input', function() {
                let value = this.value.replace(/\s/g, '').replace(/[^0-9]/gi, '');
                let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
                
                this.value = formattedValue;
                
                // Update visual card
                document.getElementById('cardDisplay').textContent = 
                    formattedValue || '**** **** **** ****';
                
                // Validate Visa (starts with 4)
                if (value.startsWith('4')) {
                    this.classList.add('is-valid');
                    this.classList.remove('is-invalid');
                } else if (value.length > 0) {
                    this.classList.add('is-invalid');
                    this.classList.remove('is-valid');
                }
            });

            // Update card holder display
            cardHolder.addEventListener('input', function() {
                document.getElementById('cardHolderDisplay').textContent = 
                    this.value.toUpperCase() || 'CARD HOLDER';
            });

            // Update expiry display
            function updateExpiry() {
                const month = expMonth.value;
                const year = expYear.value;
                document.getElementById('cardExpiryDisplay').textContent = 
                    month && year ? `${month}/${year}` : 'MM/YY';
            }
            
            expMonth.addEventListener('change', updateExpiry);
            expYear.addEventListener('change', updateExpiry);

            // CVV validation
            document.getElementById('cvv').addEventListener('input', function() {
                this.value = this.value.replace(/[^0-9]/g, '');
                if (this.value.length === 3) {
                    this.classList.add('is-valid');
                    this.classList.remove('is-invalid');
                }
            });
        }

        // Remove the old processPayment function - replaced with enhanced version above

        // Enhanced bank logo loading with real Vietnam banks
        async function loadBankLogos() {
            const container = document.getElementById('bankLogos');
            if (!container) return;
            
            try {
                // Load Vietnamese banks from API
                const result = await paymentAPI.getVietnameseBanks();
                
                if (result.success) {
                    result.data.forEach(bank => {
                        const col = document.createElement('div');
                        col.className = 'col-2 col-md-1 text-center';
                        col.innerHTML = `
                            <img src="assets/images/${bank.logo}" alt="${bank.name}" 
                                 class="img-fluid" style="max-height: 40px; opacity: 0.7;"
                                 title="${bank.name}"
                                 onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iNSIgZmlsbD0iIzAwN2JmZiIvPgo8dGV4dCB4PSIyMCIgeT0iMjUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjEwIiBmb250LXdlaWdodD0iYm9sZCI+JHtiYW5rLmNvZGV9PC90ZXh0Pgo8L3N2Zz4='.replace('${bank.code}', '${bank.code}')">
                        `;
                        container.appendChild(col);
                    });
                } else {
                    console.warn('Failed to load banks, using fallback');
                    loadFallbackBankLogos();
                }
            } catch (error) {
                console.error('Error loading bank logos:', error);
                loadFallbackBankLogos();
            }
        }

        function loadFallbackBankLogos() {
            const container = document.getElementById('bankLogos');
            const bankNames = [
                'vcb', 'bidv', 'vietinbank', 'agb', 'tcb', 'acb', 'vpb', 'stb', 'mb', 'hdb',
                'shb', 'vab', 'exb', 'scb', 'ocb', 'tpb', 'lvpb', 'pgb', 'klb', 'gpb'
            ];

            bankNames.forEach(bank => {
                const col = document.createElement('div');
                col.className = 'col-2 col-md-1 text-center';
                col.innerHTML = `
                    <img src="assets/images/${bank}.png" alt="${bank.toUpperCase()}" 
                         class="img-fluid" style="max-height: 40px; opacity: 0.7;"
                         onerror="this.style.display='none'">
                `;
                container.appendChild(col);
            });
        }

        // Utility functions
        function formatCurrency(amount) {
            return new Intl.NumberFormat('vi-VN', {
                style: 'currency',
                currency: 'VND'
            }).format(amount);
        }

        function formatDate(dateString) {
            return new Date(dateString).toLocaleDateString('vi-VN');
        }

        function showCryptoDemo() {
            new bootstrap.Modal(document.getElementById('cryptoModal')).show();
        }

        // Initialize app with enhanced API status check
        document.addEventListener('DOMContentLoaded', async function() {
            initializeEventListeners();
            loadBankLogos();
            
            // Check API status including BIDV
            try {
                const exchangeRate = await paymentAPI.getExchangeRate();
                
                // Test BIDV connection if available
                let bidvStatus = 'Not Available';
                if (window.BIDVAPIService) {
                    const bidvService = new window.BIDVAPIService();
                    const bidvTest = await bidvService.testConnection();
                    bidvStatus = bidvTest.success ? 'Connected' : 'Unavailable';
                }
                
                if (exchangeRate.success) {
                    console.log('‚úÖ API services online - USD/VND rate:', exchangeRate.data.rates.VND);
                    console.log('üè¶ BIDV API status:', bidvStatus);
                    showToast('success', `H·ªá th·ªëng thanh to√°n ƒë√£ s·∫µn s√†ng (BIDV: ${bidvStatus})`);
                } else {
                    console.warn('‚ö†Ô∏è API services degraded');
                    showToast('warning', 'M·ªôt s·ªë d·ªãch v·ª• c√≥ th·ªÉ b·ªã h·∫°n ch·∫ø');
                }
            } catch (error) {
                console.error('‚ùå API services offline:', error);
                showToast('error', 'H·ªá th·ªëng ƒëang b·∫£o tr√¨');
            }
            
            // Display enhanced system info
            displayEnhancedSystemInfo();
        });

        function displayEnhancedSystemInfo() {
            const systemInfo = document.createElement('div');
            systemInfo.className = 'alert alert-info mt-3';
            systemInfo.innerHTML = `
                <h6><i class="fas fa-info-circle me-2"></i>Th√¥ng tin h·ªá th·ªëng</h6>
                <ul class="mb-0">
                    <li><strong>API Status:</strong> <span class="badge bg-success">Online</span></li>
                    <li><strong>BIDV Integration:</strong> <span class="badge bg-primary">Available</span></li>
                    <li><strong>Providers:</strong> ${Object.keys(BILL_PROVIDERS).length} lo·∫°i d·ªãch v·ª•</li>
                    <li><strong>Payment Methods:</strong> Visa, Mastercard, JCB</li>
                    <li><strong>Security:</strong> HMAC SHA256, RSA 2048-bit, JWS</li>
                    <li><strong>Compliance:</strong> PCI DSS, ISO 27001, Open Banking</li>
                </ul>
                
                <div class="mt-3">
                    <h6>üè¶ BIDV Service IDs Support:</h6>
                    <div class="row">
                        <div class="col-md-4">
                            <strong>ƒêi·ªán:</strong>
                            <ul class="small">
                                <li>EVN (68001)</li>
                                <li>EVN H√† N·ªôi (68002)</li>
                                <li>EVN TP.HCM (68003)</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <strong>N∆∞·ªõc:</strong>
                            <ul class="small">
                                <li>SAWACO (69001)</li>
                                <li>HAWACO (69002)</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <strong>Vi·ªÖn th√¥ng:</strong>
                            <ul class="small">
                                <li>Viettel (70001)</li>
                                <li>VNPT (70002)</li>
                                <li>FPT (70003)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
            
            const container = document.querySelector('.container .mb-5:last-child');
            if (container) {
                container.appendChild(systemInfo);
            }
        }
    </script>
</body>
</html>
